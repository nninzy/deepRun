# 동기 처리와 비동기 처리

- 함수를 호출하면 콜 스택(실행 컨텍스트 스택)에 푸시(쌓이고) 종료하면 팝(제거)된다
- 자바스크립트는 단 하나의 실행 컨텍스트 스택을 가진다 -> 무언가를 동시에 실행시킬 순 없다
- 하나가 실행되고 종료되면 그 다음게 실행된다

## 동기 Synchronous 처리

- 실행중인 태스크가 종료할 때까지 다음에 실행될 태스크가 대기(블로킹)하는 방식
- 일반적인 자바스크립트 함수 처리 방식
- 실행 순서가 보장됨

## 비동기 Asynchronous 처리

- 실행중인 태스크를 블로킹하지 않고 종료되지 않더라도 다음 태스크를 곧바로 실행하는 방식
- 실행 순서가 보장되지 않음
- 블로킹이 발생하지 않는다

### 비동기 방식으로 처리하는 것들

- setTimeout
- setInterval
- HTTP 요청
- 이벤트 핸들러
- 콜백 함수 등

## 이벤트 루프와 태스크 큐

### 이벤트 루프 Event Loop

자바스크립트의 동시성 Concurrency 지원

자바스크립트 엔진은 싱글스레드이지만 브라우저는 멀티스레드이다

#### 자바스크립트 엔진이 담당

- 콜스택 Call Stack : 접시 쌓듯이 쌓아두는 공간은 하나
- 힙 heap : 오브젝트가 저장되는 메모리 공간 - 오브젝트는 크기가 정해져 있지 않아서 구조화되어있지 않다

#### 브라우저가 담당

- 태스크 큐 Task Queue : 비동기 방식으로 실행되는 것들을 파이프 라인에 넣어두는 곳
- 이벤트 루프 Event Loop
  1. 콜스택에 실행 컨텍스트가 있는지, 태스크 큐에 대기중인 함수, 이벤트 핸들러 등이 있는지 반복확인한다
  2. 콜스택이 비어있고 태스크 큐에 대기중이라면 순차적 FIFO으로 태스크 큐에 대기 중인 함수를 콜 스택에 이동
  3. 콜스택에 이동한 함수는 실행된다 (즉, 비동기로 실행된다)
  4. 콜스택과 태스크 큐는 병행 처리 된다

Web API, DOM API등에서 비동기 처리를 한다
