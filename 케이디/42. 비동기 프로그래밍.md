# 42. 비동기 프로그래밍

### 동기 처리와 비동기 처리

---

자바스크립트 엔진은 단 하나의 실행 컨텍스트 스택을 갖는다.

⇒ 한 번에 하나의 태스크만 실행할 수 있는 싱글 스레드 방식 동작.

⇒ 단점: 처리에 시간이 걸리는 태스크를 실행하는 경우 블로킹(작업중단)이 발생.

- 동기처리: 현재 실행 중인 태스크가 종료할 때까지 다음에 실행될 태스크가 대기하는 방식
- 비동기처리: 현재 실행 중인 태스크가 종료되지 않은 상태라 해도 다음 태스크를 곧바로 실행하는 방식
    
    Ex. setTimeout, setInterval, HTTP요청, 이벤트 핸들러
    

### 이벤트 루프와 태스크 큐

---
<img src="https://velog.velcdn.com/images%2Fdami%2Fpost%2F92d91a92-ac32-449d-9b5e-faac8256eee9%2Fimage.png" />

**이벤트 루프**: 자바스크립트의 동시성 지원, 브라우저에 내장된 기능 중 하나.
    - HTML 요소가 애니메이션 효과를 통해 움직이면서 이벤트 처리
    - HTTP요청을 통해 서버로부터 데이터를 가지고 오면서 렌더링    
    ⇒ 비동기 처리에서 소스코드의 평가와 실행을 제외한 모든 처리는 자바스크립트 엔진을 구동하는 환경인 브라우저 또는 Node.js가 담당. 브라우저는 멀티 스레드로 동작.    
    ⇒ 콜 스택이 비어 있고 태스크 큐에 대기 중인 함수가 있다면 이벤트 루프는 순차적으로 태스크 큐에 대기 중인 함수를 콜 스택으로 이동시킨다.    
**태스크 큐**: setTimeout이나 setInterval과같은 비동기 함수의 콜백 함수 또는 이벤트 핸들러가 일시적으로 보관되는 영역.
**콜 스택**: 소스코드 평가 과정에서 생성된 실행 컨텍스트가 추가되고 제거되는 스택 자료구조. 함수를 호출하면 함수 실행 컨택스트가 순차적으로 콜 스택에 푸시되어 순차적으로 실행된다.
**힙**: 객체가 저장되는 메모리 공간.